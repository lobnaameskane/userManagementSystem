<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="C:/Users/hp/Desktop/html/views/user.css">

    <title>CommandInterface</title>
</head>

<body class="body">

 <div class="test">
 <form class="form" method="POST" action="/commande/addcommand">
        <div class="mb-3">
          <label class="form-label">Identifiant commande</label>
          <input name="commandId" id="commandId" class="form-control">
        </div>
        <div class="mb-3">
            <label class="form-label">Date</label>
            <input type="text" name="dateCommand" class="form-control"  id="dateCommand">
        </div>
        <div class="mb-3">
            <label class="form-label">Nom Client</label>
            <input type="text" name="nomClient" class="form-control"  id="nomClient">
        </div>
        <button  type ="submit" class="btn btn-success">Ajouter</button>
      </form>
       
 <form class="form" method="POST" action="/commande/updateCommand">
        <div class="mb-3">
          <label class="form-label">Identifiant commande</label>
          <input name="commandId" id="commandId" class="form-control">
        </div>
        <div class="mb-3">
            <label class="form-label">Date</label>
            <input type="text" name="dateCommand" class="form-control"  id="dateCommand">
        </div>
        <div class="mb-3">
            <label class="form-label">Nom Client</label>
            <input type="text" name="nomClient" class="form-control"  id="nomClient">
        </div>
        <button  type ="submit" class="btn btn-warning">Modifier la commande</button>
      </form>

      

        <form class="form2" method="POST" action="/commande/deleteCommand">
        <div class="mb-3">
          <label class="form-label">Identifiant</label>
          <input name="commandId" id="commandId">
            <div class="buttons">
              <button  type ="submit" class="btn btn-danger">Supprimer la commande</button>
        </div>
        </div>
        </form>
      </div>
       <button class="btn btn-primary" id="togg2">Afficher Commande</button>
       <div id="d2">
        <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" onkeyup='searchTable()' id="search">
<table class="table" id="table">
    <thead>
      <tr id="tr">
        <th scope="col">Identifiant de la commande</th>
        <th scope="col">Date commande</th>
        <th scope="col">Nom client</th>
      </tr>
    </thead>
    <tbody>
       {{#each rows}}
      <tr id="tr">
        <td scope="row" id="td">{{this.commandId}} </th>
        <td id="td">{{this.dateCommand}} </td>
        <td id="td">{{this.nomClient}} </td>
      </tr>
       {{/each}}
    </tbody>
    
  </table>
</div>
            
  
{{!-- CODE JS --}}
      <script>
        togg2.addEventListener("click", () => {
          if(getComputedStyle(d2).display != "none"){
            d2.style.display = "none";
          } else {
            d2.style.display = "block";
          }
        })    
function searchTable() {
    var input, filter, found, table, tr, td, i, j;
    input = document.getElementById("search");
    filter = input.value.toUpperCase();
    table = document.getElementById("table");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td");
        for (j = 0; j < td.length; j++) {
            if (td[j].innerHTML.toUpperCase().indexOf(filter) > -1) {
                found = true;
            }
        }
        if (found) {
            tr[i].style.display = "";
            found = false;
        } else {
            tr[i].style.display = "none";
        }
    }
}
</script>
{{!-- Code CSS --}}
<style>
 .test{
  display: flex;
  flex-direction: row;
 }
  .form{
      margin-left: 5%;
    width:350px;
    height:500px;
    border-radius:8px;
    padding:80px 30px;max-width:calc(100vw - 40px);
    box-shadow: 3px 3px rgb(184, 184, 186), -1em 0 .4em rgb(184, 184, 186);
}
.form3{
    width:350px;
  margin-left: 10%;
    height:500px;
    border-radius:8px;
    padding:80px 30px;max-width:calc(100vw - 40px);
    box-shadow: 3px 3px rgb(184, 184, 186), -1em 0 .4em rgb(184, 184, 186);
}
.button{
  align-items: center;
}
.buttons{
    text-align: center;
}
#d2{
    display: none;
    /* visibility: hidden; */
}
#togg2{
    margin-top: -15%;
    width:500px;
   margin-left: 35%;
   margin-top: 5%;
    border-radius:8px;
    box-shadow: 3px 3px rgb(184, 184, 186), -1em 0 .4em rgb(184, 184, 186);
}
#search{
   margin-left: 35%;
   margin-top: 2%;
    width:500px;
    border-radius:8px;
    box-shadow: 3px 3px rgb(184, 184, 186), -1em 0 .4em rgb(184, 184, 186);
}
#table{
  margin-left: 32%;
    width:600px;
    border-radius:8px;
    padding:80px 30px;max-width:calc(100vw - 40px);
}
.form2{
  margin-left: 10%;
      width:350px;
    height:100px;
    border-radius:8px;
    padding:80px 30px;max-width:calc(100vw - 40px);
    box-shadow: 3px 3px rgb(184, 184, 186), -1em 0 .4em rgb(184, 184, 186);
}
</style>
</body>
</html>

